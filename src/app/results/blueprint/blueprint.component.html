<div class="__inside" *ngIf="blueprint">

  <!-- TYPE -->
  <div class="row --header">
    <strong>Blueprint</strong>

    <div class="__rarity --{{ blueprint.rarity }}">
      {{ blueprint.rarity }}
    </div>
  </div>

  <!-- NAME -->
  <div class="row --name">
    <div class="icon--blueprints icon--blueprints--{{ blueprint.icon }}"></div>
    <div class="__name --{{ blueprint.rarity }}">
      {{ blueprint.name }}
    </div>
  </div>

  <!-- DESCRIPTION -->
  <div class="row --description --positive">
    {{ blueprint.description }}
  </div>

  <!-- COST -->
  <div class="__recipe" *ngIf="blueprint.materials?.length > 0">
    <div class="row --recipe">
      Cost:
    </div>
    <div class="row --materials">
      <ng-container *ngFor="let ref of blueprint.materials">
        <ng-container *ngIf="materials[ref.id] as mat">
          <span class="icon--materials icon--materials--{{ mat.icon }}"></span>
          <span class="__mat-amount">{{ ref.quantity }}</span>
          <span class="__mat-text --{{ mat.rarity }}">{{ mat.name }}</span>
        </ng-container>
      </ng-container>
    </div>
  </div>

  <!-- VENDOR -->
  <div class="__vendors" *ngFor="let vendor of blueprint.vendors">
    <div class="row --vendor">
      <span>Purchasable at</span>
      <span>&nbsp;<strong>{{ vendor.name }}</strong></span>
      <span *ngIf="vendor.rotation">&nbsp;({{ vendor.rotation }} Legendary
        Rotation)</span>:
    </div>

    <div class="row --materials">
      <div
        class="icon--materials icon--materials--{{ vendor.currency.toLowerCase() }}">
      </div>
      <span class="__mat-amount">{{ vendor.price | price }}</span>
      <span class="__mat-text">{{ vendor.currency | currency }}</span>
    </div>
  </div>

</div>
